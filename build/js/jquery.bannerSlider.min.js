/*!
 * BannerSlider v1.0
 * Author:     Kylin
 * Date:       2014-02-29 11:24:26
 * Email:      whenhan@foxmail.com
 * Explain:    BannerSlider Script
 * Statement:  BannerSlider Script
 */
!function(a){a.fn.extend({bannerSlider:function(b){var c=this;return c.length?c.each(function(){function o(a){r(a),n.stop(!0,!1).animate({left:-a*d},500)}function p(){n.append(n.children().first().clone()),n.stop(!0,!1).animate({left:-g*d},500,function(){n.css("left","0"),n.children().last().remove()}),r(0)}function q(){n.children().last().clone().insertBefore(n.children().first()),n.css("left",-d+"px"),n.stop(!0,!1).animate({left:0*d},500,function(){n.css("left",-(f-1)*d+"px"),n.children().first().remove()}),r(f-1)}function r(a){i.find("li").css({background:b.slider.slBg,color:b.slider.slColor}).eq(a).css({background:b.slider.slHBg,color:b.slider.slHColor})}var h,c,d,e,f,g,i,j,k,l,m,n;if(b=a.extend({move:"left",slider:{showSlider:"true",showIndex:"true",slParentBg:"rgba(0,0,0,0.5)",slph:"48px",slBg:"rgba(255,0,0,0.2)",slHBg:"rgba(255,255,255,0.8)",slHColor:"#000",slColor:"#fff",slWidth:"24px",slHeight:"24px",slRadius:"50%"},btn:{showBtn:"true",btnWidth:"48px",btnHeight:"48px",btnBg:"url(img/banbtn.png) no-repeat 0 0",posSpace:"25px"}},b),c=a(this).find("img"),d=c.width(),e=c.height(),f=a(this).children().length,g=0,i=a(this),i.css({position:"relative",height:e+"px",overflow:"hidden"}),i.children().wrapAll('<div id="pl" style="width:'+d*(f+1)+"px;height:"+e+'px;position:absolute;left:0;top:0;font-size:0"></div>'),j="","true"==b.btn.showBtn&&(j+='<span class="sp_prev"></span><span class="sp_next"></span>'),"true"==b.slider.showSlider){for(j+='<ul style="position:absolute;background:'+b.slider.slParentBg+";height:"+b.slider.slph+";line-height:"+b.slider.slph+';right:0;bottom:0;width:100%;text-align:right;font-size:0;">',k="width:"+b.slider.slWidth+";height:"+b.slider.slHeight+";background:"+b.slider.slBg+";color:"+b.slider.slColor+";text-align:center;line-height:"+b.slider.slHeight+";margin-right:5px;border-radius:"+b.slider.slRadius+";cursor:pointer;font-size:12px;font-family:Arial;font-size:12px;display:inline-block;*display:inline;*zoom:1",l=1;f>=l;l++)j+='<li style="'+k+'">'+l+"</li>";j+="</ul>"}i.append(j),m=i.find("span"),n=i.find("#pl"),m.css({width:b.btn.btnWidth,height:b.btn.btnHeight,position:"absolute",top:(e-parseInt(b.btn.btnHeight))/2+"px",background:b.btn.btnBg,overflow:"hidden",opacity:"0.1",cursor:"pointer",display:"inline-block","*display":"inline","*zoom":"1"}),m.filter(".sp_prev").css({left:b.btn.posSpace,"background-position":"0 0"}),m.filter(".sp_next").css({right:b.btn.posSpace,"background-position":"-"+b.btn.btnWidth+" 0"}),m.on("click",function(){a(this).hasClass("sp_prev")?(g-=1,-1==g?(q(),g=f-1):o(g)):a(this).hasClass("sp_next")&&(g+=1,g==f?(p(),g=0):o(g))}),i.find("li").mouseenter(function(){g=a(this).index(),o(g)}).eq(0).trigger("mouseenter"),i.hover(function(){m.stop(!0,!1).animate({opacity:.8},500),clearInterval(h)},function(){m.stop(!0,!1).animate({opacity:.1},500),h=setInterval(function(){"left"==b.move?g++:"right"==b.move&&g--,g==f?(p(),g=0):-1==g?(q(),g=f-1):o(g)},3e3)}).trigger("mouseleave")}):c}})}(jQuery);